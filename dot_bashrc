
export TIME_STYLE=long-iso
if [ -n "$INSIDE_EMACS" ]; then 
  echo Hello Emacs
fi

umask 0007
export HOME=$(/usr/local/bin/home)

export PS1='\n$(/usr/local/bin/Z)\n\u@\h§\w§\n> '
export PS2='>>'

# It is very frustrating, sometimes ~/bin is already in the path, sometimes it isn't.
# This removes it, no matter how many times it is there.
# also /usr/share/Modules/bin looks like python setup stuff I'll remove that see what happens
# unbelievably,  env -i was adding "." to the path on a Debian 10 machine, if PATH was set on
# the command line.
#
  FIRST=true
  for DIRPATH in ${PATH//:/ }; do
      if [[ "$DIRPATH" != ~/bin && "$DIRPATH" != "/usr/share/Modules/bin" && "DIRPATH" != "." ]]
      then
  #        echo "adding $DIRPATH"
          if $FIRST ; then
              MODPATH="$DIRPATH"
              FIRST=false
          else
              MODPATH="$MODPATH:$DIRPATH"
          fi
      else
         echo "dropping from path:" "$DIRPATH"
      fi
  done
  #echo "setting path to: $MODPATH"
  PATH="$MODPATH"

  export PATH=~/bin:~/projects/share:"$PATH"
  echo $PATH

# misc

export PS_FORMAT=user:15,pid,%cpu,%mem,vsz,rss,tty,stat,start,time,command
export EDITOR=emacs

